(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(13),a=n(3),s="dialogsPage/SEND_MESSAGE",c={dialogs:[{id:1,name:"Andrew",srcAva:"https://st2.depositphotos.com/1064024/10769/i/600/depositphotos_107694484-stock-photo-little-prince-illustration.jpg"},{id:2,name:"Hvost",srcAva:"http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1"},{id:3,name:"Kisa",srcAva:"https://avatarko.ru/img/kartinka/33/multfilm_lyagushka_32117.jpg"}],messages:[{id:"qwe",message:"helloy!",isOwner:"true"},{id:2,message:"meow!",isOwner:"false"},{id:3,message:"fur fur!!!!",isOwner:"true"}]},i=function(e){return{type:s,newMessageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:5,message:t.newMessageText,isOwner:"true"};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});default:return e}}},107:function(e,t,n){e.exports={friendItem:"Friend_friendItem__XVKWJ"}},108:function(e,t,n){},121:function(e,t,n){},125:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(2),a=n.n(r),s=n(9),c=n(109),i=c.create({withCredentials:!0,headers:{"API-KEY":"eab66bf9-cc99-465b-b09f-f73811282eae"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),u={getUsers:function(){var e=arguments;return Object(s.a)(a.a.mark((function t(){var n,r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:5,r=e.length>1&&void 0!==e[1]?e[1]:1,t.next=4,i.get("users?count=".concat(n,"&page=").concat(r));case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)})))()}},o={post:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.post("follow/"+e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},delete:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.delete("follow/"+e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},l={get:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},updateStatus:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},d={get:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},post:function(e){return Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.post("auth/login",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},delete:function(){return Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()}}},245:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,253)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},a=n(0),s=n.n(a),c=n(50),i=n.n(c),u=(n(121),n(4)),o=n(5),l=n(10),d=n(11),f=n(22),p=(n(125),n(17)),b=n(30),j=n.n(b),g=(n(107),n(1)),h=(n(108),function(e){return Object(g.jsxs)("nav",{className:j.a.nav,children:[Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/dialogs",activeClassName:j.a.active,children:"Messages"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/news",activeClassName:j.a.active,children:"News"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/settings",activeClassName:j.a.active,children:"Settings"})}),Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/users",activeClassName:j.a.active,children:"Users"})})]})}),O=n(7),v=n(3),x=n(2),m=n.n(x),w=n(9),S=n(13),A=n(15),N=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(v.a)(Object(v.a)({},e),r):e}))},y="usersPage/FOLLOW",C="usersPage/UNFOLLOW",k="usersPage/SET_USERS",U="usersPage/SET_CURRENT_PAGE",I="usersPage/SET_TOTAL_COUNT",R="usersPage/TOGGLE_IS_FETCHING",E="usersPage/BUTTON-BLOCK",P={users:[],totalCount:100,currentPage:1,countUserOnPage:10,isFetching:!1,buttonBlockArray:[]},M=function(e){return{type:y,userId:e}},F=function(e){return{type:C,userId:e}},K=function(e){return{type:R,isFetching:e}},L=function(e,t){return{type:E,block:e,id:t}},q=function(){var e=Object(w.a)(m.a.mark((function e(t,n,r,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L(!0,r)),e.next=3,n(r);case 3:s=e.sent,t(L(!1,r)),0===s.resultCode&&t(a(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(v.a)(Object(v.a)({},e),{},{users:N(e.users,"id",t.userId,{followed:!0})});case C:return Object(v.a)(Object(v.a)({},e),{},{users:N(e.users,"id",t.userId,{followed:!1})});case k:return Object(v.a)(Object(v.a)({},e),{},{users:t.users});case U:return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case I:return Object(v.a)(Object(v.a)({},e),{},{totalCount:t.totalCount});case R:return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case E:return Object(v.a)(Object(v.a)({},e),{},{buttonBlockArray:t.block?[].concat(Object(S.a)(e.buttonBlockArray),[t.id]):e.buttonBlockArray.filter((function(e){return e!==t.id}))});default:return e}},G=n(52),B=n(32),J=n(72),z=n.n(J),D=function(e){for(var t=e.totalCount,n=e.countItemsOnPage,r=e.requestUsers,s=e.setCurrentPage,c=e.currentPage,i=e.portionSize,u=void 0===i?10:i,o=Math.ceil(t/n),l=[],d=1;d<=o;d++)l.push(d);var f=Math.ceil(o/u),p=Object(a.useState)(1),b=Object(B.a)(p,2),j=b[0],h=b[1],O=(j-1)*u+1,v=j*u,x=l.filter((function(e){return e>=O&&e<=v})).map((function(e,t){return Object(g.jsx)("span",{onClick:function(){r(n,e),s(e)},className:e===c?z.a.selected:z.a.unselected,children:e},t)}));return Object(g.jsxs)("div",{children:[j>1&&Object(g.jsx)("button",{onClick:function(){return h(j-1)},children:"BACK"}),x,j<f&&Object(g.jsx)("button",{onClick:function(){return h(j+1)},children:"FORWARD"})]})},Y=n(58),H=n.n(Y),Q=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,a=e.follow;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:H.a.first,children:[Object(g.jsx)("div",{children:Object(g.jsx)(p.b,{to:"/profile/".concat(t.id),children:Object(g.jsx)("img",{alt:"avatar",src:null!=t.photos.small?t.photos.small:"data:image/png;base64,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"})})}),t.followed?Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(g.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})]}),Object(g.jsxs)("div",{className:H.a.second,children:[Object(g.jsx)("div",{children:t.name}),Object(g.jsx)("div",{children:t.status})]}),Object(g.jsxs)("div",{className:H.a.third,children:[Object(g.jsx)("div",{children:"user.location.city"}),Object(g.jsx)("div",{children:"user.location.country"})]})]})},V=function(e){var t=e.users.map((function(t,n){return Object(g.jsx)(Q,{user:t,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow},n)}));return Object(g.jsxs)("div",{children:[e.isFetching&&Object(g.jsx)(G.a,{}),Object(g.jsx)(D,{totalCount:e.totalCount,countItemsOnPage:e.countUserOnPage,requestUsers:e.requestUsers,setCurrentPage:e.setCurrentPage,currentPage:e.currentPage,portionSize:10}),t]})},X=n(110),W=Object(X.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Z=function(e){return e.usersPage.totalCount},_=function(e){return e.usersPage.currentPage},$=function(e){return e.usersPage.countUserOnPage},ee=function(e){return e.usersPage.isFetching},te=function(e){return e.usersPage.buttonBlockArray},ne=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.requestUsers(e.props.countUserOnPage,e.props.currentPage)},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)(V,Object(v.a)({},this.props))}}]),n}(s.a.Component),re=Object(f.b)((function(e){return{users:W(e),totalCount:Z(e),currentPage:_(e),countUserOnPage:$(e),isFetching:ee(e),followingInProgress:te(e)}}),{setCurrentPage:function(e){return{type:U,currentPage:e}},requestUsers:function(e,t){return function(){var n=Object(w.a)(m.a.mark((function n(r){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(K(!0)),n.next=3,A.d.getUsers(e,t);case 3:a=n.sent,r((c=a.items,{type:k,users:c})),r((s=a.totalCount,{type:I,totalCount:s})),r(K(!1));case 7:case"end":return n.stop()}var s,c}),n)})));return function(e){return n.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(w.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(n,A.b.post.bind(A.b),e,M);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(w.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q(n,A.b.delete.bind(A.b),e,F);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ne),ae=n(59),se=n.n(ae),ce=function(e){return Object(g.jsxs)("header",{className:se.a.header,children:[Object(g.jsx)("img",{src:"https://i.pinimg.com/originals/dd/39/6a/dd396aa73c2d5f140d899dccdecebbbd.jpg"}),Object(g.jsx)("div",{className:se.a.loginBlock,children:e.isAuth?Object(g.jsxs)("div",{children:[Object(g.jsxs)("span",{className:se.a.login,children:[" ",e.login," "]}),Object(g.jsx)("button",{onClick:e.logOut,children:"Logout"})]}):Object(g.jsx)(p.b,{to:"/login",children:"Login"})})]})},ie="auth/SET_AUTH_USER_DATA",ue="auth/TOGGLE_IS_LOGIN_SUCCESS",oe={userId:null,email:null,login:null,isAuth:!1,isLoginSuccess:!1,logInErrorMessage:null},le=function(e,t,n,r){return{type:ie,data:{userId:e,email:t,login:n,isAuth:r}}},de=function(e,t){return{type:ue,isLoginSuccess:e,logInErrorMessage:t}},fe=function(){return function(){var e=Object(w.a)(m.a.mark((function e(t){var n,r,a,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,s=r.email,c=r.login,t(le(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(v.a)(Object(v.a)({},e),t.data);case ue:return Object(v.a)(Object(v.a)({},e),{},{isLoginSuccess:t.isLoginSuccess,logInErrorMessage:t.logInErrorMessage});default:return e}},be=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(g.jsx)(ce,Object(v.a)({},this.props))}}]),n}(s.a.Component),je=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logOut:function(){return function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete();case 2:0===e.sent.resultCode&&t(le(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(be),ge=n(27),he=n(74),Oe=n(38),ve=n.n(Oe),xe=function(e){return e.isAuth?Object(g.jsx)(O.a,{to:"/profile"}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"LOGIN"}),Object(g.jsx)(me,Object(v.a)({},e))]})},me=function(e){return Object(g.jsx)(ge.d,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:he.b,onSubmit:function(t){e.logIn(t)},children:function(t){var n=t.errors,r=t.touched,a=t.isSubmitting;return Object(g.jsxs)(ge.c,{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:"E-mail"}),Object(g.jsx)(ge.b,{className:n.email&&r.email?ve.a.errorField:null,label:"E-mail",name:"email",type:"email"}),Object(g.jsx)(ge.a,{className:ve.a.error,name:"email",component:"div"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:"Password"}),Object(g.jsx)(ge.b,{className:n.password&&r.password?ve.a.errorField:null,name:"password",type:"password"}),Object(g.jsx)(ge.a,{className:ve.a.error,name:"password",component:"div"})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(ge.b,{label:"Remember me",name:"rememberMe",type:"checkbox"}),Object(g.jsx)("span",{children:"Remember me"})]}),!e.isLoginSuccess&&a&&Object(g.jsx)("div",{className:ve.a.error,children:e.logInErrorMessage}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Sing in"})})]})}})},we=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,isLoginSuccess:e.auth.isLoginSuccess,logInErrorMessage:e.auth.logInErrorMessage}}),{logIn:function(e){return function(){var t=Object(w.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.a.post(e);case 2:0===(r=t.sent).resultCode?(n(fe()),n(de(!0,null))):(a=r.messages.length>0?r.messages[0]:"Some error",n(de(!1,a)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(xe),Se=n(33),Ae="app/INITIALAZED_SUCCESS",Ne={initialized:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},Ce=n(116),ke=n(75),Ue=n(106),Ie=Object(Se.b)({usersPage:T,profilePage:ke.b,auth:pe,dialogsPage:Ue.a,app:ye}),Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.c,Ee=Object(Se.d)(Ie,Re(Object(Se.a)(Ce.a))),Pe=function(e){return function(t){return Object(g.jsx)(s.a.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsx)(e,Object(v.a)({},t))})}},Me=s.a.lazy((function(){return n.e(3).then(n.bind(null,255))})),Fe=s.a.lazy((function(){return n.e(4).then(n.bind(null,254))})),Ke=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.initializeApp()},e}return Object(o.a)(n,[{key:"render",value:function(){return this.props.initialized?Object(g.jsxs)("div",{className:"app-wrapper",children:[Object(g.jsx)(je,{}),Object(g.jsx)(h,{}),Object(g.jsxs)("div",{className:"app-wrapper-content",children:[Object(g.jsx)(O.b,{path:"/profile/:userId?",render:Pe(Fe)}),Object(g.jsx)(O.b,{path:"/dialogs",render:Pe(Me)}),Object(g.jsx)(O.b,{path:"/users",render:function(){return Object(g.jsx)(re,{})}}),Object(g.jsx)(O.b,{path:"/login",render:function(){return Object(g.jsx)(we,{})}})]})]}):Object(g.jsx)(G.a,{})}}]),n}(s.a.Component),Le=Object(Se.c)(O.f,Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(w.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(fe()),e.next=3,Promise.all([n]);case 3:t({type:Ae});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ke),qe=function(e){return Object(g.jsx)(p.a,{children:Object(g.jsx)(f.a,{store:Ee,children:Object(g.jsx)(Le,{})})})};i.a.render(Object(g.jsx)(qe,{}),document.getElementById("root")),r()},30:function(e,t,n){e.exports={nav:"Navigation_nav__3cwP0",active:"Navigation_active__2Mzyi"}},38:function(e,t,n){e.exports={error:"Login_error__2D-JH",errorField:"Login_errorField__3SjHK"}},52:function(e,t,n){"use strict";var r=n.p+"static/media/preloader.0c299348.gif",a=n(1);t.a=function(){return Object(a.jsx)("img",{src:r})}},58:function(e,t,n){e.exports={first:"User_first__3mSXh",second:"User_second__3AQBA",third:"User_third__2vO9h"}},59:function(e,t,n){e.exports={header:"Header_header__389qD",loginBlock:"Header_loginBlock__18E8f",login:"Header_login__1_J3A"}},72:function(e,t,n){e.exports={selected:"Paginator_selected__uagKT",unselected:"Paginator_unselected__2NJnN"}},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(39),a=r.a().shape({email:r.b().email("Invalid email").required("Required"),password:r.b().required("Required")}),s=function(e){return r.a().shape({newText:r.b().max(e,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 ")).required("")})}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return h}));var r=n(2),a=n.n(r),s=n(9),c=n(13),i=n(3),u=n(15),o="profilePage/ADD_POST",l="profilePage/GET_PROFILE",d="profilePage/SET_STATUS",f={posts:[{id:1,message:"hello!",likeCount:"12",imageSrc:"http://archilab.online/images/1/123.jpg"},{id:2,message:"How are you?",likeCount:"2",imageSrc:"https://skidka02.ru/wp-content/uploads/instagram-avatarka-razmer_31.jpg"}],profile:null,status:""},p=function(e){return{type:o,newPostText:e}},b=function(e){return{type:d,status:e}},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.get(e);case 2:r=t.sent,n({type:l,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getStatus(e);case 2:r=t.sent,n(b(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.updateStatus(e);case 2:0===t.sent.resultCode&&n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:5,message:t.newPostText,likeCount:0,imageSrc:"https://p4.tabor.ru/feed/2017-11-28/16076155/721181_760x500.jpg"};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case l:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case d:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});default:return e}}}},[[245,1,2]]]);
//# sourceMappingURL=main.ed58d608.chunk.js.map